Bootstrap: docker
From: ubuntu:{{ OSVERSION }}

%arguments
    OSVERSION=23.04
    ITKVERSIONSTRING=4.0.1-20230320
    ITKBASEURL=https://www.fzu.cz/~jose/install/other
    #ITKBASEURL=https://deac-fra.dl.sourceforge.net/project/itk-snap/itk-snap/4.0.1

%post
    apt -y update
    apt -y install curl git wget libglx0 libopengl0 libgl1 xubuntu-desktop qt5dxcb-plugin qt6-base-dev libxcb-xinerama0 libicu-dev

    wget {{ ITKBASEURL }}/itksnap-{{ ITKVERSIONSTRING }}-Linux-gcc64.tar.gz
    tar -xvf itksnap-{{ ITKVERSIONSTRING }}-Linux-gcc64.tar.gz -C /usr/local --strip-components=1

%runscript
    /usr/local/bin/itksnap
